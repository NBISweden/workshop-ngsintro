---
title:  "Connecting to UPPMAX"
---

```{r,child="assets/header-lab.Rmd"}
```

```{r,eval=TRUE,include=FALSE}
library(yaml)
upid <- yaml::read_yaml("_site.yml")$uppmax_project
upres <- yaml::read_yaml("_site.yml")$uppmax_res_1
```

<div class="boxy boxy-yellow boxy-exclamation">
In code blocks, the dollar sign (`$`) is not to be printed. The dollar sign is usually an indicator that the text following it should be typed in a terminal window.
</div>

# Connect to UPPMAX

We will teach you two different ways to connect to UPPMAX. From UPPMAX point of view it doesn't matter which one you use, and you can change whenever you want to or even use both ways simultaiously. The first one is a text-based SSH connection, and the other one is a graphical remote desktop. The latter one is useful if you need to view images or documents in GUI programs without having to first download the image/document to your own computer first. Since it is using graphics, it will require you to have an internet connection that is good and stable.

The reason we will teach you two ways is that some parts of this course will require you to view plots and images, and adding an additional download step would just unneccesarily complicate things.


## SSH connection

Let's look at the text-based SSH approach first. This type of connection work just fine even on slow internet connections since it only transmitts small amounts of text when you work with it. You will need an SSH program to do this, which fortunately is included in most major operating systems:

<i class="fab fa-linux"></i> Linux: Use Terminal (Included by default).<br>
<i class="fab fa-apple"></i> OSX: Use Terminal (Included by default).<br>
<i class="fab fa-windows"></i> Windows: Use Powershell or Command prompt, both should be installed by default.<br>

<div class="boxy boxy-yellow boxy-exclamation">
**Note:** Where `username` is mentioned, change to your user name.
</div>

Fire up the available SSH program and enter the following:

```bash
$ ssh username@rackham.uppmax.uu.se
```

Replace username with your UPPMAX username.

Enter your password when prompted. As you type, nothing will show on the screen.
No stars, no dots. It is supposed to be that way. Just type the password and press enter, it will be fine.

Now your screen should look something like this:

```bash
dahlo@dahlo-xps ~ $ ssh dahlo@rackham.uppmax.uu.se
Last login: Fri May 18 15:03:59 2018 from mi04.icm.uu.se
 _   _ ____  ____  __  __    _    __  __
| | | |  _ \|  _ \|  \/  |  / \   \ \/ /   | System:    rackham4
| | | | |_) | |_) | |\/| | / _ \   \  /    | User:      dahlo
| |_| |  __/|  __/| |  | |/ ___ \  /  \    |
 \___/|_|   |_|   |_|  |_/_/   \_\/_/\_\   |

###############################################################################

       User Guides: http://www.uppmax.uu.se/support/user-guides
       FAQ: http://www.uppmax.uu.se/support/faq

       Write to support@uppmax.uu.se, if you have questions or comments.


dahlo@rackham4 ~ $
```

Now you are connected to UPPMAX and can start working on the labs.



## Remote desktop connection

We have a ThinLinc server running at one of the login nodes which allows users to run a remote desktop. It can be reached from a web browser (Chrome and Firefox are the recommended web browsers) or from the ThinLink App. For more details please look here: https://uppmax.uu.se/support-sv/user-guides/thinlinc-graphical-connection-guide/

### Web browser
To be able to login via a web browser you will have to set up two-factor authentication first. Follow the [instructions at the UPPMAX homepage](https://www.uppmax.uu.se/support/user-guides/setting-up-two-factor-authentication/), and once you are done you can continue below.

   1. Go to the login page, <a href="https://rackham-gui.uppmax.uu.se/" target="_blank" rel="noopener noreferrer">https://rackham-gui.uppmax.uu.se/</a>
   1. Enter your UPPMAX username.
   1. Enter your UPPMAX password, followed by your current two-factor authentication code.
      Eg. if your password is `hunter2` and your current two-factor authentication code is `123456` you will enter `hunter2123456` as your password.
      <br><center><a href="data/common/thinlinc_00.png"><img src="data/common/thinlinc_00.png" alt="Thinlinc login page" width="200"></a></center>
   1. It will ask you which profile you want to use, so first press the `Forward` button. Then you can choose which desktop environment you want to use. `Xfce` is pretty straight-forward and easy to use, but feel free to try either of them. You get to choose every time you login so it's not a permanent choice.
      <br><center><a href="data/common/thinlinc_01.png"><img src="data/common/thinlinc_01.png" alt="Thinlinc login page" width="200"></a></center>
   1. Once your desktop has been loaded, start a terminal either by clicking the black terminal icon at the bottom of the screen, or by pressing the `Applications` button in the top left corner and select `Terminal Emulator`.
      <br><center><a href="data/common/thinlinc_02.png"><img src="data/common/thinlinc_02.png" alt="Thinlinc login page" width="200"></a></center>

### ThinLink App

   1. If you haven't already done so, download the ThinLinc client matching your local computer (i.e Windows, Linux, MacOS X or Solaris) from [https://www.cendio.com/thinlinc/download](https://www.cendio.com/thinlinc/download) and install it.
   1. Launch the ThinLinc client. You should see a form where you can enter your username and password, and possibly a server name. If you only see this simple form:
      <br><center><a href="data/common/thinlinc_03.png"><img src="data/common/thinlinc_03.png" alt="Thinlinc login page" width="200"></a></center>
      you can click Advanced to be able to set the server name.
   1. Change the "Server" setting to "rackham-gui.uppmax.uu.se".
   1. Change the "Name" setting to your UPPMAX username.
   1. Set the "Password" setting to your UPPMAX password.
   1. You do not need to change any other settings.
   1. Press the "Connect" button.
   1. If you connect for the first time you will see the "The server's host key is not cached ..." dialog.
   1. You will first come to the `ThinLinc profile chooser`. Press the `Forward` button to continue. Then you can choose which desktop environment you want to use. `Xfce` is pretty straight-forward and easy to use, but feel free to try either of them. You get to choose every time you login so it's not a permanent choice.
      <br><center><a href="data/common/thinlinc_01.png"><img src="data/common/thinlinc_01.png" alt="Thinlinc login page" width="200"></a></center>
   1. Once your desktop has been loaded, start a terminal either by clicking the black terminal icon at the bottom of the screen, or by pressing the `Applications` button in the top left corner and select `Terminal Emulator`.
      <br><center><a href="data/common/thinlinc_02.png"><img src="data/common/thinlinc_02.png" alt="Thinlinc login page" width="200"></a></center>
   1. **Two factor authentication:**  The ThinLinc client connects over SSH which means it **may** be required to present a two factor authentication code. If you need to use this when logging in with SSH you also need to use it when logging in with ThinLinc (it depends on where you connect from). The ThinLinc client does not know how to ask for the two factor code, so you will need to use the grace time feature. To do this, first you have to connect with regular SSH and present the required two factor code. Once you have logged in over SSH you can safely exit again. The login server will remember that you just logged in for a few minutes and will not ask for two factor authentication again, so make sure you do not wait too long to connect with the ThinLinc client.


# After connection to UPPMAX

From this point forward there is no difference between the two different ways of connection to UPPMAX. Both ways result in you having a terminal running on UPPMAX and from UPPMAX point of view they are the same.
